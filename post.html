<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Video Player</title>
  <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
</head>
<body>
  <h1 id="videoTitle"></h1>
  <video id="videoPlayer" class="video-js" controls preload="auto" width="640" height="360" controlsList="nodownload">
    <source id="videoSource" src="" type="application/x-mpegURL" />
  </video>
  <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>
  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const videoId = urlParams.get("video");

    fetch("video.json")
      .then(res => res.json())
      .then(videos => {
        const video = videos.find(v => v.id === videoId);
        if (!video) {
          document.body.innerHTML = "<p>Video not found.</p>";
          return;
        }
        document.getElementById("videoTitle").textContent = video.title;
        document.getElementById("videoSource").src = video.src;
        document.getElementById("videoPlayer").poster = video.thumbnail;
        const player = videojs("videoPlayer");
        player.ready(() => {
          player.src({ type: "application/x-mpegURL", src: video.src });
          player.el().addEventListener("contextmenu", e => e.preventDefault());
          player.el().addEventListener("touchstart", e => {
            if (e.touches.length > 1) e.preventDefault();
          });
        });
      });
  </script>
</body>
</html>
